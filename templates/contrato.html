{% extends "base.html" %}
{% block content %}
  <div class="card" style="text-align:left;">
    <h2 style="margin:0 0 6px;">Emitir contrato</h2>
    <p style="margin:0 0 14px; opacity:.75;">Complete os dados e gere o PDF.</p>

    <form method="post" style="display:flex; flex-direction:column; gap:10px;">
      <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
        <div>
          <label class="label">Denominação (Cliente)</label>
          <input class="input" name="denominacao" value="{{ pre.denom }}" required>
        </div>

        <div>
          <label class="label">CPF/CNPJ</label>
          <input class="input" name="cpf_cnpj" value="{{ pre.cpf }}" required>
        </div>

        <div>
          <label class="label">Endereço</label>
          <input class="input" name="endereco" required>
        </div>

        <div>
          <label class="label">Telefone</label>
          <input class="input" name="telefone" required>
        </div>

        <div>
          <label class="label">E-mail</label>
          <input class="input" name="email" required>
        </div>

        <div>
          <label class="label">Equipamento</label>
          <input class="input" name="equipamento" value="{{ pre.modelo }}" required>
        </div>

        <div>
          <label class="label">Franquia</label>
          <input class="input" name="franquia" value="{{ pre.franquia }}" required>
        </div>

        <div>
          <label class="label">Valor mensal</label>
          <input class="input" name="valor_mensal" value="{{ pre.valor }}" required>
        </div>

        <div>
          <label class="label">Data início (só números: 200226 → 20/02/26)</label>
          <input class="input mask-date" name="data_inicio" placeholder="dd/mm/aa" maxlength="8" required>
        </div>

        <div>
          <label class="label">Data término (só números: 200226 → 20/02/26)</label>
          <input class="input mask-date" name="data_termino" placeholder="dd/mm/aa" maxlength="8" required>
        </div>
      </div>

      <div class="card" style="padding:12px; margin-top:6px;">
        <div style="font-weight:700; margin-bottom:8px;">Acessórios</div>
        <div style="display:flex; gap:16px; flex-wrap:wrap;">
          <label style="display:flex; gap:8px; align-items:center;">
            <input type="checkbox" name="acc" value="Cabo energia"> Cabo energia
          </label>
          <label style="display:flex; gap:8px; align-items:center;">
            <input type="checkbox" name="acc" value="Cabo USB"> Cabo USB
          </label>
        </div>
        <div style="margin-top:10px;">
          <label class="label">Outros (opcional)</label>
          <input class="input" name="acc_outros" placeholder="Ex: Fonte / Suporte...">
        </div>
      </div>

      <div style="display:flex; gap:10px; margin-top:8px;">
        <button class="btn primary" type="submit" style="flex:1;">Gerar contrato (PDF)</button>
        <a class="btn" href="/gerador" style="justify-content:center; flex:1;">Voltar</a>
      </div>

      {% if erro %}
        <div style="margin-top:10px; color:var(--danger); white-space:pre-wrap;">{{ erro }}</div>
      {% endif %}
    </form>
  </div>
{% endblock %}