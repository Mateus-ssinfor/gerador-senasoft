{% extends "base.html" %}
{% block content %}
  <h2>Emitir contrato</h2>
  <p style="opacity:.75;">Os dados principais já vêm da proposta. Complete o restante e gere o PDF.</p>

  <form method="post" class="card" style="max-width:980px;">
    <h3 style="margin-top:0;">Dados puxados da proposta</h3>

    <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
      <div>
        <label>Denominação (Cliente)</label>
        <input name="denominacao" value="{{ pre.denom }}" required>
      </div>
      <div>
        <label>CPF/CNPJ</label>
        <input name="cpf_cnpj" value="{{ pre.cpf }}" required>
      </div>
      <div>
        <label>Equipamento</label>
        <input name="equipamento" value="{{ pre.modelo }}" required>
      </div>
      <div>
        <label>Franquia</label>
        <input name="franquia" value="{{ pre.franquia }}" required>
      </div>
      <div>
        <label>Valor mensal</label>
        <input name="valor_mensal" value="{{ pre.valor }}" required>
      </div>
    </div>

    <h3 style="margin-top:18px;">Complete</h3>

    <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
      <div>
        <label>Endereço</label>
        <input name="endereco" required>
      </div>
      <div>
        <label>Telefone</label>
        <input name="telefone" required>
      </div>
      <div>
        <label>E-mail</label>
        <input name="email" required>
      </div>
      <div>
        <label>Acessórios</label>
        <div style="display:flex; gap:14px; flex-wrap:wrap; padding:8px 0;">
          <label style="display:flex; gap:8px; align-items:center;">
            <input type="checkbox" name="acc" value="Cabo energia"> Cabo energia
          </label>
          <label style="display:flex; gap:8px; align-items:center;">
            <input type="checkbox" name="acc" value="Cabo USB"> Cabo USB
          </label>
        </div>
        <input name="acc_outros" placeholder="Outros acessórios (opcional)">
      </div>

      <div>
        <label>Data início (digite só números: 200226 → 20/02/26)</label>
        <input name="data_inicio" placeholder="ddmmaa" required>
      </div>
      <div>
        <label>Data término (digite só números: 200226 → 20/02/26)</label>
        <input name="data_termino" placeholder="ddmmaa" required>
      </div>
    </div>

    <div style="display:flex; gap:10px; margin-top:14px; flex-wrap:wrap;">
      <button class="btn" type="submit">Gerar contrato (PDF)</button>
      <a class="btn" href="/gerador">Voltar</a>
    </div>

    {% if erro %}
      <p style="color:#ff7070; margin-top:12px; white-space:pre-wrap;">{{ erro }}</p>
    {% endif %}
  </form>
{% endblock %}